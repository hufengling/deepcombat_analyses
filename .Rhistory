install.packages("reticulate")
library(reticulate)
Sys.setenv(LD_PRELOAD="/home/fengling/software/pkg/mamba/envs/nnbatch-env/lib/libstdc++.so.6")
Sys.setenv(LD_LIBRARY_PATH = paste0("/home/fengling/software/pkg/mamba/envs/nnbatch-env/lib/:", Sys.getenv("LD_LIBRARY_PATH")))
Sys.setenv(PATH = paste0("/home/fengling/software/pkg/mamba/envs/nnbatch-env/lib/:", Sys.getenv("PATH")))
library(reticulate)
use_python("/home/fengling/software/pkg/mamba/envs/nnbatch-env/bin/python3")
sp <- import('scipy', convert = FALSE)
np <- import('numpy', convert = FALSE)
pd <- import('pandas', convert = FALSE)
sc <- import('scanpy', convert = FALSE)
library(here)
library(tidyverse)
load(here("data/raw/n839_thickness_demog.rds"))
adni <- read_rds(here("data/raw/n839_thickness_demog.rds"))
library(randomForest)
adni_names
names(adni)
tail(names(adni))
tail(names(adni), 20)
tail(names(adni), 10)
adni[,1]
names(adni)
head(names(adni)x = )
head(names(adni))
adni_demo <- adni[, c(1, 20485:20495)]
adni_demo %>% names
adni_demo <- adni[, c(1, 20486:20495)]
adni_demo %>% names
adni_pred <- adni[, 2:20485]
?randomForest
adni_ants <- read_csv(here("data/raw/ADNI_ANTsSST_protocol_2019_03_14.csv"))
View(adni_ants)
View(adni_ants)
View(adni_ants)
View(adni_demo)
typeof(adni_demo$date)
library(lubridate)
adni_ants$EXAM_DATE <- as.Date(adni_ants$EXAM_DATE)
typeof(adni_ants$EXAM_DATE)
class(adni_ants$EXAM_DATE)
class(adni_ants$dateAcquired)
class(adni_demo$date)
adni_ants$manufac
adni_ants$manufac %>% unique
adni_pred <- adni_ants[, 43:104]
adni_demo <- adni_ants[, 1:43]
names(adni_demo)
adni_demo <- adni_ants[, 1:42]
adni_pred <- adni_ants[, 42:104]
adni_demo
names(adni_demo)
randomForest(adni_demo$manufac ~ adni_pred)
randomForest(adni_demo$manufac ~ as.matrix(adni_pred))
class(adni_demo$manufac)
adni_demo$manufac <- as.factor(adni_demo$manufac)
randomForest(adni_demo$manufac ~ as.matrix(adni_pred))
dim(as.matrix(adni_pred))
randomForest(y = adni_demo$manufac, x = adni_pred)
sample(adni_demo$manufac)
?sample
randomForest(y = sample(adni_demo$manufac), x = adni_pred)
?anndata
library(anndata)
test <- AnnData(X = adni_pred, obsm = adni_demo, var = names(adni_pred))
test <- AnnData(X = adni_pred, obsm = adni_demo)
